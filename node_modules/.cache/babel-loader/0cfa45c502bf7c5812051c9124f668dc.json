{"ast":null,"code":"/**\n *\n *\n * @param {*} flights\n * @param {*} currentFlightId\n * @param {*} previousFlightId\n * @return {*} \n */\nexport const checkIfValid = (flights, rotation, currentFlightId, previousFlightId) => {\n  const flight = flights.find(f => f.ident === currentFlightId);\n  const newRotationArray = [...rotation, flight];\n  const previousFlight = newRotationArray[previousFlightId - 1] || null;\n  const nextFlight = newRotationArray[previousFlightId + 1] || null; // First flight in rotation\n\n  if (!previousFlight && !nextFlight) {\n    return true;\n  } // If there's a flight already in the spot behind\n\n\n  if (previousFlight) {\n    console.log(\"previous flight\", previousFlight.departuretime + 1200, flight.arrivaltime, previousFlight.destination, flight.origin);\n\n    if (previousFlight.departuretime + 1200 <= flight.arrivaltime && previousFlight.destination === flight.origin) {\n      return true;\n    }\n  }\n\n  if (nextFlight) {\n    console.log(\"next flight\");\n\n    if (flight.departuretime + 1200 <= nextFlight.arrivaltime && flight.destination === nextFlight.origin) {\n      return true;\n    }\n  }\n\n  return false;\n};","map":{"version":3,"sources":["/Users/flaviafigueiredo/Documents/Github/flavia-aircraft-scheduling/src/utils/helpers/validations.js"],"names":["checkIfValid","flights","rotation","currentFlightId","previousFlightId","flight","find","f","ident","newRotationArray","previousFlight","nextFlight","console","log","departuretime","arrivaltime","destination","origin"],"mappings":"AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,MAAMA,YAAY,GAAG,CAACC,OAAD,EAAUC,QAAV,EAAoBC,eAApB,EAAqCC,gBAArC,KAA0D;AAClF,QAAMC,MAAM,GAAGJ,OAAO,CAACK,IAAR,CAAaC,CAAC,IAAIA,CAAC,CAACC,KAAF,KAAYL,eAA9B,CAAf;AACA,QAAMM,gBAAgB,GAAG,CAAE,GAAGP,QAAL,EAAeG,MAAf,CAAzB;AACA,QAAMK,cAAc,GAAGD,gBAAgB,CAACL,gBAAgB,GAAG,CAApB,CAAhB,IAA0C,IAAjE;AACA,QAAMO,UAAU,GAAGF,gBAAgB,CAACL,gBAAgB,GAAG,CAApB,CAAhB,IAA0C,IAA7D,CAJkF,CAMlF;;AACA,MAAG,CAACM,cAAD,IAAmB,CAACC,UAAvB,EAAmC;AAC/B,WAAO,IAAP;AACH,GATiF,CAWlF;;;AACA,MAAGD,cAAH,EAAkB;AACdE,IAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ,EAA+BH,cAAc,CAACI,aAAf,GAA+B,IAA9D,EAAoET,MAAM,CAACU,WAA3E,EAAwFL,cAAc,CAACM,WAAvG,EAAoHX,MAAM,CAACY,MAA3H;;AACA,QAAIP,cAAc,CAACI,aAAf,GAA+B,IAA/B,IAAuCT,MAAM,CAACU,WAA9C,IAA6DL,cAAc,CAACM,WAAf,KAA+BX,MAAM,CAACY,MAAvG,EAA+G;AAC3G,aAAO,IAAP;AACH;AACJ;;AAED,MAAGN,UAAH,EAAc;AACVC,IAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ;;AAEA,QAAGR,MAAM,CAACS,aAAP,GAAuB,IAAvB,IAA+BH,UAAU,CAACI,WAA1C,IAAyDV,MAAM,CAACW,WAAP,KAAuBL,UAAU,CAACM,MAA9F,EAAsG;AAClG,aAAO,IAAP;AACH;AACJ;;AAED,SAAO,KAAP;AACH,CA5BM","sourcesContent":["\n/**\n *\n *\n * @param {*} flights\n * @param {*} currentFlightId\n * @param {*} previousFlightId\n * @return {*} \n */\nexport const checkIfValid = (flights, rotation, currentFlightId, previousFlightId) => {\n    const flight = flights.find(f => f.ident === currentFlightId);\n    const newRotationArray = [ ...rotation, flight];\n    const previousFlight = newRotationArray[previousFlightId - 1] || null;\n    const nextFlight = newRotationArray[previousFlightId + 1] || null;\n\n    // First flight in rotation\n    if(!previousFlight && !nextFlight) {\n        return true;\n    }\n\n    // If there's a flight already in the spot behind\n    if(previousFlight){\n        console.log(\"previous flight\", previousFlight.departuretime + 1200, flight.arrivaltime, previousFlight.destination, flight.origin);\n        if( previousFlight.departuretime + 1200 <= flight.arrivaltime && previousFlight.destination === flight.origin) {\n            return true;\n        }\n    }\n\n    if(nextFlight){\n        console.log(\"next flight\");\n\n        if(flight.departuretime + 1200 <= nextFlight.arrivaltime && flight.destination === nextFlight.origin) {\n            return true;\n        }\n    }\n\n    return false;\n};\n"]},"metadata":{},"sourceType":"module"}